(this.webpackJsonppolish_challenge=this.webpackJsonppolish_challenge||[]).push([[0],{23:function(e,t,n){e.exports={name:"styles_name__3fxzT",coords:"styles_coords__NZWfm"}},25:function(e,t,n){e.exports={fadeIn:"styles_fadeIn__1KF51",marker:"styles_marker__1yDMm",selected:"styles_selected__8B3VE"}},46:function(e,t,n){e.exports=n(73)},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"FETCH_DATA",(function(){return O})),n.d(a,"SELECT_PERSON",(function(){return _}));var r=n(2),c=n.n(r),o=n(20),i=n.n(o),l=n(13),s=n(11),u=n(45),d=n(23),m=n.n(d),E=function(){var e=Object(l.c)((function(e){return e.Store.selectedPersonID})),t=Object(l.c)((function(e){return e.Store.people})),n=t.findIndex((function(t){return t.id===e})),a=n>=0?t[n]:null;return null===a?null:e?c.a.createElement("div",{className:"FOOTER"},c.a.createElement("div",{className:""},c.a.createElement("i",{className:"mdi mdi-avatar"})),c.a.createElement("div",{className:m.a.name},a.name),c.a.createElement("div",{className:m.a.coords},c.a.createElement("span",null,c.a.createElement("b",null,"LAT"),": ",a.coordinates.latitude.toFixed(5)),c.a.createElement("span",null,c.a.createElement("b",null,"LNG"),": ",a.coordinates.longitude.toFixed(5)))):c.a.createElement("div",{className:"FOOTER"},c.a.createElement("div",{className:m.a.something}))},p=n(42),f=n(12),h=n(7),v=n(29),b={get FETCH_DATA(){return"FETCH_DATA"},get SELECT_PERSON(){return"SELECT_PERSON"}},O=function(){return{type:b.FETCH_DATA}},_=function(e){return{type:b.SELECT_PERSON,payload:e}},g={latitude:59.955413,longitude:30.337844},T=n(25),j=n.n(T),w=Object(l.b)((function(e){return{Store:e.Store}}),a)((function(e){var t,n=e.Store,a=e.FETCH_DATA,o=e.SELECT_PERSON,i=n.fetching,l=n.people,s=n.selectedPersonID;Object(r.useEffect)((function(){void 0===i&&a()}),[a,i]);var u=Math.max(document.documentElement.clientWidth,window.innerWidth||0),d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),m=Object(r.useState)(Object(f.a)({},g,{width:.95*u,height:.825*d,zoom:12})),E=Object(h.a)(m,2),b=E[0],O=E[1];if(0===(null!==(t=null===l||void 0===l?void 0:l.length)&&void 0!==t?t:0))return null;var _=function(e){var t=e.id===s?j.a.selected:"";return c.a.createElement(v.a,{latitude:e.coordinates.latitude,longitude:e.coordinates.longitude,key:e.id},c.a.createElement("i",{className:"".concat(j.a.marker," ").concat(t," mdi mdi-map-marker"),onClick:function(){o(e.id)}}))};return c.a.createElement("div",{className:"MAP"},c.a.createElement(v.b,Object.assign({},b,{mapboxApiAccessToken:"pk.eyJ1IjoibHVkYW5pbiIsImEiOiJjazhzYTl1YXMwNHduM2RtdHlybWs1bnNmIn0.Q6MscVoZor30eeVqRi84xQ",onViewportChange:O,mapStyle:"mapbox://styles/ludanin/ck8sae6321zd61ijyx565o8ll"}),function(){var e,t=[],n=Object(p.a)(l);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.push(_(a))}}catch(r){n.e(r)}finally{n.f()}return t}()),c.a.createElement("div",{className:j.a.something}))})),x={fetching:void 0,people:[],selectedPersonID:""},y=Object(s.c)({Store:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(f.a)({},x),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.FETCH_DATA:return void 0===t.data?Object(f.a)({},e,{fetching:!0}):Object(f.a)({},e,{fetching:!1,people:t.data});case b.SELECT_PERSON:var n=e.selectedPersonID;return n&&n===t.payload?Object(f.a)({},e,{selectedPersonID:""}):Object(f.a)({},e,{selectedPersonID:t.payload});default:return e}}}),A=n(15),N=n.n(A),S=n(44),k=n.n(S),C=n(17),D=N.a.mark(F),P=N.a.mark(I),H=N.a.mark(R);function F(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.d)(b.FETCH_DATA,I);case 2:case"end":return e.stop()}}),D)}function I(){var e;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(C.b)(1e3);case 3:return t.next=5,k.a.get("http://localhost:8080/api/get");case 5:if(200!==(e=t.sent).status){t.next=11;break}return t.next=9,Object(C.c)({type:b.FETCH_DATA,data:e.data});case 9:t.next=13;break;case 11:return t.next=13,Object(C.c)({type:b.FETCH_DATA,data:[]});case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0);case 18:case"end":return t.stop()}}),P,null,[[0,15]])}function R(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([F()]);case 2:case"end":return e.stop()}}),H)}n(72);var L=Object(u.a)(),M=Object(s.e)(y,Object(s.a)(L));L.run(R);var W=function(){return c.a.createElement(l.a,{store:M},c.a.createElement("div",{className:"APP"},c.a.createElement(w,null),c.a.createElement(E,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}z(),window.addEventListener("resize",z),i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.216e9ecf.chunk.js.map